(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,c){},119:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){},133:function(e,t,c){},134:function(e,t,c){},135:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},151:function(e,t,c){},152:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(36),s=c.n(a),o=(c(89),c(10)),i=c(14),d=(c(90),c(46)),j=c.n(d),l=function(e,t,c,n){return j.a.post("".concat("https://ecommerce2backend.herokuapp.com","/api/signup"),{name:e,email:t,password:c,phoneNumber:n}).then((function(e){return e})).catch((function(e){return e.response}))},u=function(){return"undefined"!==typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},h=c(180),b=c(4),p=function(e,t){var c=[];window.localStorage&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(b.a)(Object(b.a)({},e),{},{count:1})),c=Array.from(new Set(c.map((function(e){return e._id})))).map((function(e){return c.find((function(t){return t._id===e}))})),localStorage.setItem("cart",JSON.stringify(c))),t()},O=c(181),m=c(79),f=c.n(m),x=c(0),g=function(){var e=Object(i.g)(),t=u().user;Object(n.useEffect)((function(){}),[t]);return Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)(o.b,{to:"/",children:Object(x.jsxs)("div",{className:"header__left",children:[Object(x.jsx)("h2",{children:"ratul"}),Object(x.jsx)("img",{src:"https://www.svgrepo.com/show/294105/online-shopping-commerce-and-shopping.svg",alt:""})]})}),Object(x.jsxs)("div",{className:"header__right",children:[u()&&Object(x.jsx)("div",{className:"header__rightButton",children:Object(x.jsx)(h.a,{variant:"contained",color:"success",children:Object(x.jsx)(o.b,{to:"/user/dashboard",children:"User Dashboard"})})}),u()&&1===u().user.role&&Object(x.jsx)("div",{className:"header__rightButton",children:Object(x.jsx)(h.a,{variant:"contained",color:"success",children:Object(x.jsx)(o.b,{to:"/admin/dashboard",children:"Admin Dashboard"})})}),!t&&Object(x.jsxs)("div",{className:"header__rightButtons",children:[Object(x.jsx)("div",{className:"header__rightButton",children:Object(x.jsx)(h.a,{variant:"contained",color:"success",children:Object(x.jsx)(o.b,{to:"/signin",children:"sign in"})})}),Object(x.jsx)("div",{className:"header__rightButton",children:Object(x.jsx)(h.a,{variant:"contained",color:"success",children:Object(x.jsx)(o.b,{to:"/signup",children:"sign UP"})})})]}),t&&Object(x.jsx)("div",{className:"header__rightButton",children:Object(x.jsx)(h.a,{variant:"contained",color:"success",onClick:function(){!function(){if("undefined"!==typeof window)localStorage.removeItem("jwt"),fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/logout"),{method:"POST"}).then((function(e){})).catch((function(e){return console.log(e)}))}(),e.push("/signup")},children:"logout"})}),Object(x.jsx)("div",{className:"header__rightButton",onClick:function(){e.push("/checkout")},children:Object(x.jsxs)(O.a,{"aria-label":"add to shopping cart",variant:"contained",color:"error",children:[Object(x.jsx)(f.a,{}),window.localStorage&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0]})})]})]})},v=c(29),_=c.n(v),N=c(32),y=c(6),k=function(){var e=Object(N.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/products?order=desc&limit=").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return e}))},w=(c(118),function(e){var t=e.children;return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{}),Object(x.jsx)("div",{className:"wrapper"}),Object(x.jsx)("main",{className:"container",children:t})]})}),C=c(177),P=c(184),I=c(183),A=c(182),T=c(179),B=(c(119),c(27)),D=c.n(B),E=c(49);c(125);function J(e){var t=e.product,c=Object(i.g)(),r=Object(n.useState)([]),a=Object(y.a)(r,2);a[0],a[1];return Object(x.jsx)("div",{className:"cardItem",children:Object(x.jsxs)(C.a,{sx:{maxWidth:345},children:[Object(x.jsx)(A.a,{component:"img",height:"240",image:t.photo,alt:"green iguana"}),Object(x.jsxs)(I.a,{children:[Object(x.jsx)(T.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.name}),Object(x.jsx)(T.a,{variant:"body2",color:"text.secondary",children:function(e,t){var c=e.length>t?"...":"";return e.substring(0,t)+c}(t.description,25)}),Object(x.jsx)(T.a,{variant:"body2",color:"text.secondary",children:D.a.format(t.price,{locale:"BD"})})]}),Object(x.jsxs)(P.a,{children:[Object(x.jsx)(h.a,{onClick:function(){return e=t,void c.push("/singleProduct/".concat(e._id));var e},size:"small",children:"View Product"}),Object(x.jsx)(h.a,{size:"small",onClick:function(){return function(e){p(e,(function(){E.b.error("Added to Cart",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),c.push("/checkout")}))}(t)},children:"Add to Cart"})]})]})})}c(126);var L=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(6),s=Object(y.a)(a,2),o=s[0],d=s[1],j=(Object(i.g)(),function(){var e=Object(N.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,k(o);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){j()}),[o]),Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"home",children:[Object(x.jsx)("div",{className:"home__row",children:c&&c.length>0&&c.map((function(e,t){return Object(x.jsx)(J,{product:e},t)}))}),c&&c.length>0&&Object(x.jsx)("button",{onClick:function(){d(o+6)},className:"home__button",children:"Load more"}),Object(x.jsx)(E.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})},z=(c(127),function(){var e=u().user;return Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"userDashboard",children:[Object(x.jsxs)("div",{className:"userDashboard__left",children:[Object(x.jsx)("div",{className:"userDashboard_leftLinks",children:Object(x.jsx)("p",{children:"Admin Links"})}),Object(x.jsx)("div",{className:"userDashboard_leftLinks",children:Object(x.jsxs)(o.b,{to:"/profile/".concat(e._id),children:[" ","update Profile"," "]})}),Object(x.jsx)("div",{className:"userDashboard_leftLinks",children:Object(x.jsx)(o.b,{to:"/history/".concat(e._id),children:"History"})})]}),Object(x.jsxs)("div",{className:"userDashboard__right",children:[Object(x.jsx)("h1",{children:"User Details"}),Object(x.jsx)("p",{children:e.name}),Object(x.jsx)("p",{children:e.email}),Object(x.jsx)("p",{children:e.phoneNumber})]})]})})}),U=c(8),G=(c(128),function(){var e=Object(i.g)(),t=Object(n.useState)({email:"",password:"",err:"",success:!1,loading:!1}),c=Object(y.a)(t,2),r=c[0],a=c[1],s=function(e){a(Object(b.a)(Object(b.a)({},r),{},Object(U.a)({},e.target.name,e.target.value)))},o=r.email,d=r.password;return Object(x.jsx)(w,{children:Object(x.jsx)("div",{className:"signin",children:Object(x.jsxs)("div",{className:"signin__container",children:[Object(x.jsx)("div",{className:"signin__containerHeader",children:Object(x.jsx)("h2",{children:"Sign In"})}),Object(x.jsxs)("div",{className:"signin__containerWarning",children:[r.loading&&Object(x.jsx)("h2",{children:r.loading}),r.err&&Object(x.jsx)("h2",{children:r.err})]}),Object(x.jsx)("div",{className:"signin__containerForm",children:Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),d&&(a(Object(b.a)(Object(b.a)({},r),{},{err:"",loading:!0})),function(e,t){return j.a.post("".concat("https://ecommerce2backend.herokuapp.com","/api/login"),{email:e,password:t}).then((function(e){return e})).catch((function(e){return e.response}))}(o,d).then((function(t){t.data.err?a(Object(b.a)(Object(b.a)({},r),{},{err:t.data.err,loading:!1})):(a(Object(b.a)(Object(b.a)({},r),{},{err:"",loading:!1})),function(e){localStorage.setItem("jwt",JSON.stringify(e))}(t.data),e.push("/"))})))},children:[Object(x.jsx)("div",{className:"signin__containerFormInput",children:Object(x.jsx)("input",{onChange:s,name:"email",type:"email",placeholder:"Email",value:o})}),Object(x.jsx)("div",{className:"signin__containerFormInput",children:Object(x.jsx)("input",{onChange:s,value:d,name:"password",type:"password",placeholder:"Password"})}),Object(x.jsx)("button",{type:"submit",children:"sign in"})]})})]})})})}),F=(c(129),function(){var e=Object(i.g)(),t=Object(n.useState)({name:"",email:"",password:"",phone:"",err:"",success:!1,loading:!1}),c=Object(y.a)(t,2),r=c[0],a=c[1],s=function(e){a(Object(b.a)(Object(b.a)({},r),{},Object(U.a)({},e.target.name,e.target.value)))},o=r.name,d=r.email,j=r.password,u=r.phone,h=function(){var t=Object(N.a)(_.a.mark((function t(c){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault();try{u&&(a(Object(b.a)(Object(b.a)({},r),{},{err:"",loading:!0})),l(o,d,j,u).then((function(t){t.data.err?a(Object(b.a)(Object(b.a)({},r),{},{success:!1,err:t.data.err,loading:!1})):(e.push("/signin"),a(Object(b.a)(Object(b.a)({},r),{},{err:"",name:"",password:"",email:"",phone:"",success:!0,loading:!1})),console.log("success",r))})))}catch(c){console.log(c)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)(w,{children:Object(x.jsx)("div",{className:"signup",children:Object(x.jsxs)("div",{className:"signup__container",children:[Object(x.jsx)("h3",{children:"Sign Up"}),Object(x.jsxs)("div",{className:"signup__containerWarning",children:[""!==r.err&&Object(x.jsx)("h2",{children:r.err}),!0===r.loading&&Object(x.jsx)("h2",{children:"Loading..."})]}),Object(x.jsx)("div",{className:"signup__containersignup",children:Object(x.jsxs)("form",{onClick:h,children:[Object(x.jsx)("div",{className:"signup__containersignupInput",children:Object(x.jsx)("input",{onChange:s,name:"name",type:"text",placeholder:"UserName",value:o})}),Object(x.jsx)("div",{className:"signup__containersignupInput",children:Object(x.jsx)("input",{onChange:s,name:"email",type:"email",placeholder:"Email",value:d})}),Object(x.jsx)("div",{className:"signup__containersignupInput",children:Object(x.jsx)("input",{onChange:s,value:j,name:"password",type:"password",placeholder:"Password"})}),Object(x.jsx)("div",{className:"signup__containersignupInput",children:Object(x.jsx)("input",{value:u,onChange:s,name:"phone",type:"Text",placeholder:"Phone no."})}),Object(x.jsx)("button",{className:"signup__containersignupButton",children:"Sign Up"})]})})]})})})}),R=c(51),q=function(e){var t=e.component,c=Object(R.a)(e,["component"]);return Object(x.jsx)(i.b,Object(b.a)(Object(b.a)({},c),{},{render:function(e){return u()?Object(x.jsx)(t,Object(b.a)({},e)):Object(x.jsx)(i.a,{to:"/signin"})}}))},H=function(e){var t=e.component,c=Object(R.a)(e,["component"]);return Object(x.jsx)(i.b,Object(b.a)(Object(b.a)({},c),{},{render:function(e){return 1===u().user.role?Object(x.jsx)(t,Object(b.a)({},e)):Object(x.jsx)(i.a,{to:"/signin"})}}))},M=(c(130),function(){var e=u().user;return Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"admindashboard",children:[Object(x.jsx)("h2",{className:"admindashboard__header",children:"Admin Dashboard"}),Object(x.jsxs)("div",{className:"admindashboard__container",children:[Object(x.jsxs)("div",{className:"admindashboard__left",children:[Object(x.jsx)("div",{className:"admindashboard__leftLinks",children:Object(x.jsx)("p",{children:"Admin Links"})}),Object(x.jsx)("div",{className:"admindashboard__leftLinks",children:Object(x.jsxs)(o.b,{to:"/admin/createCategory",children:[" ","Create Category"," "]})}),Object(x.jsx)("div",{className:"admindashboard__leftLinks",children:Object(x.jsxs)(o.b,{to:"/admin/createproduct",children:[" ","Create Product"," "]})}),Object(x.jsx)("div",{className:"admindashboard__leftLinks",children:Object(x.jsxs)(o.b,{to:"/profile/".concat(e._id),children:[" ","update Profile"," "]})}),Object(x.jsx)("div",{className:"admindashboard__leftLinks",children:Object(x.jsxs)(o.b,{to:"/admin/manageProduct",children:[" ","Manage product"]})}),Object(x.jsx)("div",{className:"admindashboard__leftLinks",children:Object(x.jsxs)(o.b,{to:"/admin/order",children:[" ","Manage Order"]})})]}),Object(x.jsxs)("div",{className:"admindashboard__right",children:[Object(x.jsx)("div",{className:"admindashboard__rightHeader",children:Object(x.jsx)("p",{children:"Admin Information"})}),Object(x.jsxs)("div",{className:"admindashboard__rightInfo",children:[Object(x.jsx)("p",{children:e.email}),Object(x.jsx)("p",{children:e.name}),Object(x.jsx)("p",{children:e.phoneNumber}),Object(x.jsx)("p",{children:1===e.role&&"Admin"})]})]})]})]})})}),Y=(c(131),function(){var e,t=Object(n.useState)(),c=Object(y.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),o=Object(y.a)(s,2),d=o[0],j=o[1],l=Object(n.useState)(!1),h=Object(y.a)(l,2),b=h[0],p=h[1],O=Object(n.useState)(!1),m=Object(y.a)(O,2),f=m[0],g=m[1],v=Object(i.g)(),_=r,N=u(),k=N.token,S=N.user;return Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"createcategory",children:[Object(x.jsx)("div",{className:"createcategory__Header",children:Object(x.jsx)("h2",{children:"Create Category"})}),d&&Object(x.jsx)("h2",{children:d}),b&&Object(x.jsx)("h2",{children:"loading..."}),f&&Object(x.jsxs)("h2",{children:[null===(e=f.category)||void 0===e?void 0:e.name," created"]}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),function(e,t,c){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(S._id,k,{name:_}).then((function(e){e.error?(j(e.error),p(!1),g(!1)):(j(""),g(e),p(!1))}))},children:[Object(x.jsx)("input",{value:r,onChange:function(e){a(e.target.value)},type:"text",placeholder:"Enter category"}),Object(x.jsx)("button",{color:"success",variant:"contained",children:"Create Category"})]}),Object(x.jsx)("h2",{className:"createcategory__back",onClick:function(){v.push("/admin/dashboard")},children:"Go Back \u2b05\ufe0f"})]})})}),W=(c(132),function(){var e=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",image:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:"",suceess:!1}),t=Object(y.a)(e,2),c=t[0],r=t[1],a=u(),s=a.user,o=a.token,i=c.name,d=c.description,j=c.price,l=(c.image,c.categories),h=(c.category,c.shipping),p=c.quantity,O=c.loading,m=c.error,f=(c.createdProduct,c.redirectToProfile,c.formData),g=c.success,v=function(){fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.err?r(Object(b.a)(Object(b.a)({},c),{},{error:e.error})):r(Object(b.a)(Object(b.a)({},c),{},{categories:e.categories,formData:new FormData}))}))};Object(n.useEffect)((function(){v()}),[]);var _=function(e){return function(t){var n="image"===e?t.target.files[0]:t.target.value;f.set(e,n),r(Object(b.a)(Object(b.a)({},c),{},Object(U.a)({},e,n)))}};return Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"createproduct",children:[Object(x.jsx)("div",{className:"createproduct__header",children:Object(x.jsx)("h2",{children:"Create Product"})}),Object(x.jsxs)("div",{className:"createproduct__warning",children:[O&&Object(x.jsx)("p",{children:"loading...."}),m&&Object(x.jsx)("p",{children:m}),g&&Object(x.jsx)("p",{children:"product created"})]}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(0===h?Object(b.a)(Object(b.a)({},c),{},{shipping:!1}):Object(b.a)(Object(b.a)({},c),{},{shipping:!0})),r(Object(b.a)(Object(b.a)({},c),{},{error:"",loading:!0})),function(e,t,c){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){return e}))}(s._id,o,f).then((function(e){e.error?(console.log(e),r(Object(b.a)(Object(b.a)({},c),{},{error:e.error,loading:!1,suceess:!1}))):r(Object(b.a)(Object(b.a)({},c),{},{category:"",shipping:"",name:"",description:"",image:"",price:"",quantity:"",loading:!1,createdProduct:e.name,error:"",suceess:!0}))}))},children:[Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Choose One Image"}),Object(x.jsx)("input",{type:"file",onChange:_("image"),name:"image",accept:"image/*"})]}),Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{value:i,onChange:_("name"),type:"text"})]}),Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:d,type:"text",onChange:_("description")})]}),Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Price"}),Object(x.jsx)("input",{onChange:_("price"),type:"number",className:"form-control",value:j})]}),Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Category"}),Object(x.jsxs)("select",{onChange:_("category"),children:[Object(x.jsx)("option",{children:"please select"}),l&&l.map((function(e,t){return Object(x.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Shipping"}),Object(x.jsxs)("select",{onChange:_("shipping"),children:[Object(x.jsx)("option",{children:"please select"}),Object(x.jsx)("option",{value:"0",children:"No"}),Object(x.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(x.jsxs)("div",{className:"createproduct__form",children:[Object(x.jsx)("label",{children:"Quantity"}),Object(x.jsx)("input",{onChange:_("quantity"),type:"number",className:"form-control",value:p})]}),Object(x.jsx)("button",{children:"Create Product"})]})]})})}),Q=(c(133),function(){var e=Object(n.useState)({name:"",password:"",error:!1,success:!1}),t=Object(y.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(y.a)(a,2),o=s[0],d=s[1],j=Object(i.g)(),l=c.name,h=c.password,p=(c.error,c.success,Object(i.h)().userId),O=u().token,m=u().user.email,f=function(e){return function(t){r(Object(b.a)(Object(b.a)({},c),{},Object(U.a)({error:!1},e,t.target.value)))}},g=function(){console.log(l,h),function(e,t,c){return console.log("c",c),fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(p,O,{name:l,password:h}).then((function(e){e.err?r(Object(b.a)(Object(b.a)({},c),{},{error:e.err})):(r(Object(b.a)(Object(b.a)({},c),{},{success:!0})),function(e){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var t=JSON.parse(localStorage.getItem("jwt"));t.user=e,localStorage.setItem("jwt",JSON.stringify(t))}}(e.updateUser),j.push("/"),d(!o))}))};return Object(n.useEffect)((function(){(function(e,t){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/user/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return e}))})(p,O).then((function(e){e.err?r(Object(b.a)(Object(b.a)({},c),{},{error:e.err})):r(Object(b.a)(Object(b.a)({},c),{},{name:e.name,email:e.email}))}))}),[o]),Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"updateprofile",children:[Object(x.jsx)("div",{className:"updateprofile__header",children:Object(x.jsx)("h1",{children:"update profile"})}),Object(x.jsxs)("div",{className:"updateprofile__userdetails",children:[Object(x.jsxs)("p",{children:["user name : ",l]}),Object(x.jsxs)("p",{children:["user email : ",m]})]}),Object(x.jsxs)("div",{className:"updateprofile__userUpdate",children:[Object(x.jsx)("input",{type:"text",onChange:f("name"),value:l}),Object(x.jsx)("input",{type:"password",onChange:f("password"),value:h}),Object(x.jsx)("button",{onClick:function(){return g()},className:"updateprofile__userUpdateButton",children:"update Profile"})]})]})})}),V=(c(134),function(e){var t=e.product,c=e.deleteProduct;return Object(x.jsxs)("div",{className:"managecard",children:[Object(x.jsx)("div",{className:"managecard__title",children:Object(x.jsx)("p",{children:t.name})}),Object(x.jsx)("div",{className:"managecard__middle",children:Object(x.jsx)("button",{children:"update"})}),Object(x.jsx)("div",{className:"managecard__right",children:Object(x.jsx)("button",{onClick:function(){return c(t._id)},children:"delete"})})]})}),K=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(),s=Object(y.a)(a,2),o=s[0],i=s[1],d=u(),j=d.token,l=d.user,h=function(e){console.log("deleted id ".concat(e)),i(e),function(e,t,c){fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/product/").concat(e,"/").concat(t,"/"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e,l._id,j)};return Object(n.useEffect)((function(){k(100).then((function(e){e.err?console.log(e.err):r(e)}))}),[o]),Object(x.jsxs)(w,{children:[Object(x.jsx)("h1",{children:"manage product"}),Object(x.jsx)("div",{className:"manageProduct",children:c&&c.map((function(e,t){return Object(x.jsx)(V,{deleteProduct:h,product:e},t)}))})]})},X=(c(135),c(33)),Z=c.n(X),$=function(){var e=Object(i.h)().productId,t=Object(n.useState)({product:{},error:!1}),c=Object(y.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)([]),o=Object(y.a)(s,2),d=o[0],j=o[1],l=r.product,u=(r.error,Object(i.g)());Object(n.useEffect)((function(){(function(e){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/products/related/").concat(e),{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e}))})(e).then((function(e){j(e)})),function(e){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/product/").concat(e),{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return e}))}(e).then((function(e){e.err?a(Object(b.a)(Object(b.a)({},r),{},{error:e.err})):a(Object(b.a)(Object(b.a)({},r),{},{product:e}))}))}),[e]);return Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"singleProduct",children:[Object(x.jsx)("div",{className:"singleProduct__left",children:Object(x.jsx)("div",{className:"singleProduct__leftheader",children:Object(x.jsxs)("div",{className:"singleProduct__leftheaderItem",children:[Object(x.jsx)("div",{className:"singleProduct__leftheaderItemLeft",children:Object(x.jsx)("img",{src:l.photo,alt:""})}),Object(x.jsxs)("div",{className:"singleProduct__leftheaderItemRight",children:[Object(x.jsx)("h3",{children:l.name}),Object(x.jsx)("p",{children:l.description}),Object(x.jsx)("p",{children:D.a.format(l.price,{locale:"BD"})}),!0===l.shipping&&Object(x.jsx)("p",{children:"Shipping possible"}),l.quantity>0&&Object(x.jsx)("p",{children:"Product Available"}),Object(x.jsxs)("p",{children:["created"," ",Object(x.jsx)(Z.a,{toNow:!0,children:l.createdAt})]}),Object(x.jsx)(h.a,{onClick:function(){return function(e){p(e,(function(){u.push("/checkout")}))}(l)},variant:"contained",color:"success",children:"Add to Cart"})]})]})})}),Object(x.jsxs)("div",{className:"singleProduct__right",children:[Object(x.jsx)("h1",{children:"Related Products"}),d.length>0&&d.map((function(e,t){return Object(x.jsx)(J,{product:e},t)}))]})]})})},ee=(c(138),c(139),function(e){var t,c=e.item,r=e.setRun,a=void 0===r?function(e){return e}:r,s=e.run,o=void 0===s?void 0:s,i=Object(n.useState)(c.count),d=Object(y.a)(i,2),j=d[0],l=d[1];return Object(x.jsx)("div",{className:"items",children:Object(x.jsxs)("div",{className:"items__item",children:[Object(x.jsx)("img",{src:c.photo,alt:c.name}),Object(x.jsx)("p",{children:c.name}),Object(x.jsx)("p",{children:c.price}),Object(x.jsx)("input",{type:"number",className:"form-control",value:j,onChange:(t=c._id,function(e){a(!o),l(e.target.value<1?1:e.target.value),e.target.value>=1&&function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(n,r){n._id===e&&(c[r].count=t)})),localStorage.setItem("cart",JSON.stringify(c)))}(t,e.target.value)})}),Object(x.jsx)(h.a,{onClick:function(){!function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,n){c._id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)))}(c._id),a(!o)},variant:"outlined",color:"error",children:"Remove"})]})})}),te=c(80),ce=c.n(te),ne=(c(151),function(e){var t=e.total,c=e.setRun,r=void 0===c?function(e){return e}:c,a=e.run,s=void 0===a?void 0:a,o=e.items,i=Object(n.useState)({loading:!1,success:!1,clientToken:null,error:"",instance:{},address:""}),d=Object(y.a)(i,2),j=d[0],l=d[1],h=u()&&u().user._id,p=u()&&u().token,O=function(e,t){(function(e,t){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api//braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return e}))})(e,t).then((function(e){e.error?l(Object(b.a)(Object(b.a)({},e),{},{error:e.error})):l(Object(b.a)(Object(b.a)({},e),{},{success:!1,clientToken:e.clientToken}))}))};Object(n.useEffect)((function(){O(h,p)}),[]);var m=j.address;return Object(x.jsxs)("div",{className:"payment",children:[Object(x.jsxs)("div",{className:"payment__summary",children:[Object(x.jsx)("h2",{children:"Your cart Summary"}),Object(x.jsxs)("h3",{children:["total : ",t()]})]}),Object(x.jsxs)("div",{className:"payment__cards",children:[!u()&&Object(x.jsx)("p",{children:"SIGN IN FIRST"}),j.error&&u()&&Object(x.jsx)("p",{children:j.error}),null!==j.clientToken&&!0===j.success&&Object(x.jsx)("p",{children:"payment successfully completed,Thank You"}),null!==j.clientToken&&u()&&o.length>0&&Object(x.jsxs)("div",{className:"payment__cardsDropin",children:[Object(x.jsxs)("div",{className:"payment__cardsDropinAdress",children:[Object(x.jsx)("label",{className:"",children:"Delivery address:"}),Object(x.jsx)("textarea",{onChange:function(e){l(Object(b.a)(Object(b.a)({},j),{},{address:e.target.value}))},className:"",value:j.address,placeholder:"Type your delivery address here..."})]}),Object(x.jsx)(ce.a,{options:{authorization:j.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return j.instance=e}}),Object(x.jsx)("button",{onClick:function(){j.instance.requestPaymentMethod().then((function(e){var c={paymentMethodNonce:e.nonce,amount:t()};(function(e,t,c){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return e}))})(h,p,c).then((function(t){var c,n={products:o,transaction_Id:t.transaction_Id,amount:t.transaction.amount,address:m};!function(e,t,c){fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})}).then((function(e){return e.json()})).catch((function(e){return e}))}(h,p,n),l(Object(b.a)(Object(b.a)({},e),{},{error:"",success:t.success})),c=function(){console.log("payment success and empty cart")},"undefined"!==typeof window&&localStorage.getItem("cart")&&(localStorage.removeItem("cart"),c()),r(!s)})).catch((function(e){console.log(e)}))})).catch((function(e){l(Object(b.a)(Object(b.a)({},j),{},{error:e.message}))}))},children:"Pay"})]})]})]})}),re=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(y.a)(a,2),o=s[0],d=s[1],j=Object(i.g)();Object(n.useEffect)((function(){r("undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[])}),[o]);return Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"checkout",children:[0===c.length&&Object(x.jsxs)("h3",{children:["Your Cart is Empty"," ",Object(x.jsx)(h.a,{color:"secondary",onClick:function(){j.push("/")},children:"go to home"})]}),Object(x.jsx)("div",{className:"checkout__itemLeft",children:c.map((function(e){return Object(x.jsx)(ee,{item:e,setRun:d,run:o})}))}),Object(x.jsx)("div",{className:"checkout__itemRight",children:Object(x.jsx)(ne,{total:function(){return c.reduce((function(e,t){return e+t.count*t.price}),0)},setRun:d,run:o,items:c})})]})})},ae=(c(152),function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(y.a)(a,2),o=s[0],i=s[1],d=u()&&u().token,j=u()&&u().user._id;Object(n.useEffect)((function(){S(j,d).then((function(e){e.error?console.log(e.error):r(e)})),function(e,t){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/order/status-values/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return e}))}(j,d).then((function(e){e.error?console.log(e.error):i(e)}))}),[]);var l=function(e,t){(function(e,t,c,n){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/order/").concat(c,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:n,orderId:c})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(j,d,t,e.target.value).then((function(e){e.error?console.log("Status update failed"):S(j,d).then((function(e){e.error?console.log(e.error):r(e)}))}))};return Object(x.jsxs)(w,{children:[Object(x.jsx)("div",{className:"order__header",children:c.length>0?Object(x.jsxs)("h1",{children:["total order : ",c.length]}):Object(x.jsx)("h1",{children:"no order yet"})}),c.length>0&&c.map((function(e,t){return Object(x.jsxs)("div",{className:"order",children:[Object(x.jsxs)("h1",{children:["Ordered by"," ",e.user.name]}),Object(x.jsxs)("p",{children:["PhoneNumber :"," ",e.user.phoneNumber]}),Object(x.jsxs)("p",{children:["Address ",e.address]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"products ordered"}),Object(x.jsx)("ol",{children:e.products.map((function(e,t){return Object(x.jsxs)("li",{children:[Object(x.jsx)("p",{children:e.name}),Object(x.jsxs)("p",{children:["quantity :"," ",e.count]}),Object(x.jsxs)("p",{children:["Product's base price"," ",D.a.format(e.price,{locale:"BD"})]})]},t)}))})]}),Object(x.jsxs)("p",{children:["total cost :"," ",D.a.format(e.amount,{locale:"BD"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsxs)("h3",{className:"mark mb-4",children:["Status:"," ",e.status]}),Object(x.jsxs)("select",{onChange:function(t){return l(t,e._id)},children:[Object(x.jsx)("option",{children:"Update Status"}),o.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]}),Object(x.jsxs)("p",{children:["ordered"," ",Object(x.jsx)(Z.a,{toNow:!0,children:e.createdAt})," "]})]},t)}))]})}),se=(c(153),function(){Object(i.h)().userId;var e=u()&&u().user,t=u()&&u().token,c=Object(n.useState)([]),r=Object(y.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){(function(e,t){return fetch("".concat("https://ecommerce2backend.herokuapp.com","/api/orders/by/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return e}))})(e._id,t).then((function(e){e.error?console.log(e.error):s(e)}))}),[]),console.log(a),Object(x.jsx)(w,{children:Object(x.jsxs)("div",{className:"history",children:[Object(x.jsx)("h1",{children:"Purchase History"}),a.map((function(e,t){return Object(x.jsxs)("div",{className:"history__items",children:[Object(x.jsx)("p",{children:"Product Purchsed"}),Object(x.jsx)("div",{className:"history__itemsProducts",children:e.products.map((function(t,c){return Object(x.jsxs)("div",{className:"product__details",children:[Object(x.jsx)("p",{children:t.name}),Object(x.jsx)("p",{children:Object(x.jsx)(Z.a,{toNow:!0,children:e.createdAt})}),Object(x.jsxs)("p",{children:[t.price," "]}),Object(x.jsxs)("p",{children:["total quantity of product :"," ",t.count]})]},c)}))}),Object(x.jsxs)("p",{children:[" ","total :",D.a.format(e.amount,{locale:"BD"})]}),Object(x.jsxs)("p",{children:["Status :"," ",e.status]})]},t)}))]})})}),oe=function(){return Object(x.jsx)(o.a,{children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/",children:Object(x.jsx)(L,{})}),Object(x.jsx)(i.b,{exact:!0,path:"/signin",children:Object(x.jsx)(G,{})}),Object(x.jsx)(i.b,{exact:!0,path:"/checkout",children:Object(x.jsx)(re,{})}),Object(x.jsx)(i.b,{exact:!0,path:"/signup",children:Object(x.jsx)(F,{})}),Object(x.jsx)(i.b,{exact:!0,path:"/singleProduct/:productId",children:Object(x.jsx)($,{})}),Object(x.jsx)(q,{path:"/history/:userId",exact:!0,component:se}),Object(x.jsx)(q,{path:"/profile/:userId",exact:!0,component:Q}),Object(x.jsx)(q,{path:"/user/dashboard",exact:!0,component:z}),Object(x.jsx)(H,{path:"/admin/order",exact:!0,component:ae}),Object(x.jsx)(H,{path:"/admin/dashboard",exact:!0,component:M}),Object(x.jsx)(H,{path:"/admin/createCategory",exact:!0,component:Y}),Object(x.jsx)(H,{path:"/admin/createproduct",exact:!0,component:W}),Object(x.jsx)(H,{path:"/admin/manageProduct",exact:!0,component:K})]})})};var ie=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(oe,{})})},de=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,185)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(ie,{})}),document.getElementById("root")),de()},89:function(e,t,c){},90:function(e,t,c){}},[[154,1,2]]]);
//# sourceMappingURL=main.1dc01956.chunk.js.map